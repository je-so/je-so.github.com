<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Memory-Mapped-File</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css"><script language=JavaScript src="../../../../javascript/main.js"></script><script language=JavaScript src="../../../../javascript/prettify.js"></script><script language=JavaScript src="../../../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Memory-Mapped-File"></a>Memory-Mapped-File</h1><div class=CBody><p>Maps a file into virtual memory.&nbsp; This allows accessing the content of a file as simple as an array.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Memory-Mapped-File" >Memory-Mapped-File</a></td><td class=SDescription>Maps a file into virtual memory. </td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Copyright" >Copyright</a></td><td class=SDescription>This program is free software. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Files" >Files</a></td><td class=SDescription></td></tr><tr class="SFile SIndent2 SMarked"><td class=SEntry><a href="#C-kern/api/io/filesystem/mmfile.h" >C-kern/<wbr>api/<wbr>io/<wbr>filesystem/<wbr>mmfile.h</a></td><td class=SDescription>Header file of <a href="#Memory-Mapped-File" class=LSection id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Memory-Mapped-File</a>.</td></tr><tr class="SFile SIndent2"><td class=SEntry><a href="#C-kern/platform/Linux/io/mmfile.c" >C-kern/<wbr>platform/<wbr>Linux/<wbr>io/<wbr>mmfile.c</a></td><td class=SDescription>Linux specific implementation <a href="../../../platform/Linux/io/mmfile-c.html#Memory-Mapped-File_Linux" class=LSection id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">Memory-Mapped-File Linux</a>.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Enumerations" >Enumerations</a></td><td class=SDescription></td></tr><tr class="SEnumeration SIndent2 SMarked"><td class=SEntry><a href="#mmfile_openmode_e" >mmfile_openmode_e</a></td><td class=SDescription>Open mode like <b>readonly</b> or <b>read/write</b> (private + shared).</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#struct_mmfile_t" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">struct mmfile_t</a></td><td class=SDescription>Exports <a href="#mmfile_t" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">mmfile_t</a>.</td></tr><tr class="SSection"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#query" >query</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#pagesize_mmfile" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a></td><td class=SDescription>Returns size of a memory page (block). </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#test" >test</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#unittest_io_mmfile" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">unittest_io_mmfile</a></td><td class=SDescription>Test mapping of file into memory.</td></tr><tr class="SClass"><td class=SEntry><a href="#mmfile_t" id=link7 onMouseOver="ShowTip(event, 'tt4', 'link7')" onMouseOut="HideTip('tt4')">mmfile_t</a></td><td class=SDescription>Describes a memory mapped file. </td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#mmfile_t.addr" id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">addr</a></td><td class=SDescription>The start address of the mapped memory. </td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#mmfile_t.size" id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">size</a></td><td class=SDescription>Size of the mapped memory. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#mmfile_t.lifetime" >lifetime</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#mmfile_t.mmfile_INIT_FREEABLE" id=link10 onMouseOver="ShowTip(event, 'tt9', 'link10')" onMouseOut="HideTip('tt9')">mmfile_INIT_FREEABLE</a></td><td class=SDescription>Static initializer for <a href="#mmfile_t" class=LClass id=link11 onMouseOver="ShowTip(event, 'tt4', 'link11')" onMouseOut="HideTip('tt4')">mmfile_t</a>. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#mmfile_t.init_mmfile" id=link12 onMouseOver="ShowTip(event, 'tt10', 'link12')" onMouseOut="HideTip('tt10')">init_mmfile</a></td><td class=SDescription>Opens or creates a new file and maps it to memory. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#mmfile_t.initcreate_mmfile" id=link13 onMouseOver="ShowTip(event, 'tt11', 'link13')" onMouseOut="HideTip('tt11')">initcreate_mmfile</a></td><td class=SDescription>Creates a new file with the given size and opens it with <a href="#mmfile_openmode_RDWR_SHARED" class=LConstant id=link14 onMouseOver="ShowTip(event, 'tt12', 'link14')" onMouseOut="HideTip('tt12')">mmfile_openmode_RDWR_SHARED</a>. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#mmfile_t.free_mmfile" id=link15 onMouseOver="ShowTip(event, 'tt13', 'link15')" onMouseOut="HideTip('tt13')">free_mmfile</a></td><td class=SDescription>Frees all mapped memory and closes the file.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#mmfile_t.query" >query</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#mmfile_t.addr_mmfile" id=link16 onMouseOver="ShowTip(event, 'tt14', 'link16')" onMouseOut="HideTip('tt14')">addr_mmfile</a></td><td class=SDescription>Returns the lowest address of the mapped memory. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#mmfile_t.size_mmfile" id=link17 onMouseOver="ShowTip(event, 'tt15', 'link17')" onMouseOut="HideTip('tt15')">size_mmfile</a></td><td class=SDescription>Returns the size of the mapped memory. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#mmfile_t.alignedsize_mmfile" id=link18 onMouseOver="ShowTip(event, 'tt16', 'link18')" onMouseOut="HideTip('tt16')">alignedsize_mmfile</a></td><td class=SDescription>Returns the size of the mapped memory. </td></tr><tr class="SSection"><td class=SEntry><a href="#inline_implementation" >inline implementation</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#addr_mmfile" id=link19 onMouseOver="ShowTip(event, 'tt17', 'link19')" onMouseOut="HideTip('tt17')">addr_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.addr_mmfile" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt14', 'link20')" onMouseOut="HideTip('tt14')">mmfile_t.addr_mmfile</a>.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#alignedsize_mmfile" id=link21 onMouseOver="ShowTip(event, 'tt18', 'link21')" onMouseOut="HideTip('tt18')">alignedsize_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.alignedsize_mmfile" class=LFunction id=link22 onMouseOver="ShowTip(event, 'tt16', 'link22')" onMouseOut="HideTip('tt16')">mmfile_t.alignedsize_mmfile</a>.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#size_mmfile" id=link23 onMouseOver="ShowTip(event, 'tt19', 'link23')" onMouseOut="HideTip('tt19')">size_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.size_mmfile" class=LFunction id=link24 onMouseOver="ShowTip(event, 'tt15', 'link24')" onMouseOut="HideTip('tt15')">mmfile_t.size_mmfile</a>.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Copyright"></a>Copyright</h3><div class=CBody><p>This program is free software.&nbsp; You can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&nbsp;  See the GNU General Public License for more details.</p><h4 class=CHeading>Author</h4><p>&copy; 2011 JÃ¶rg Seebohn</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Files"></a>Files</h3></div></div>

<div class="CFile"><div class=CTopic><h3 class=CTitle><a name="C-kern/api/io/filesystem/mmfile.h"></a>C-kern/<wbr>api/<wbr>io/<wbr>filesystem/<wbr>mmfile.h</h3><div class=CBody><p>Header file of <a href="#Memory-Mapped-File" class=LSection id=link25 onMouseOver="ShowTip(event, 'tt1', 'link25')" onMouseOut="HideTip('tt1')">Memory-Mapped-File</a>.</p></div></div></div>

<div class="CFile"><div class=CTopic><h3 class=CTitle><a name="C-kern/platform/Linux/io/mmfile.c"></a>C-kern/<wbr>platform/<wbr>Linux/<wbr>io/<wbr>mmfile.c</h3><div class=CBody><p>Linux specific implementation <a href="../../../platform/Linux/io/mmfile-c.html#Memory-Mapped-File_Linux" class=LSection id=link26 onMouseOver="ShowTip(event, 'tt2', 'link26')" onMouseOut="HideTip('tt2')">Memory-Mapped-File Linux</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Enumerations"></a>Enumerations</h3></div></div>

<div class="CEnumeration"><div class=CTopic><h3 class=CTitle><a name="mmfile_openmode_e"></a>mmfile_openmode_e</h3><div class=CBody><p>Open mode like <b>readonly</b> or <b>read/write</b> (private + shared).</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry><a name="mmfile_openmode_RDONLY"></a>mmfile_openmode_RDONLY</td><td class=CDLDescription>Open file read only and trying to write to mapped memory generates an exception.</td></tr><tr><td class=CDLEntry><a name="mmfile_openmode_RDWR_SHARED"></a>mmfile_openmode_RDWR_SHARED</td><td class=CDLDescription>Open file read/write.&nbsp; Writing to memory does change the underlying file.&nbsp; Every other process in the system will see the changes.</td></tr><tr><td class=CDLEntry><a name="mmfile_openmode_RDWR_PRIVATE"></a>mmfile_openmode_RDWR_PRIVATE</td><td class=CDLDescription>Open file read/write.&nbsp; However writing to memory does not change the underlying file.&nbsp; Changes in memory are only visible to the calling process.&nbsp; It is <b>unspecified</b> whether changes made to the underlying file by other processes are visible after the file is mapped into memory.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="struct_mmfile_t"></a>struct mmfile_t</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">typedef struct mmfile_t mmfile_t</td></tr></table></blockquote><p>Exports <a href="#mmfile_t" class=LClass id=link27 onMouseOver="ShowTip(event, 'tt4', 'link27')" onMouseOut="HideTip('tt4')">mmfile_t</a>.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Functions"></a>Functions</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#query" >query</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#pagesize_mmfile" id=link28 onMouseOver="ShowTip(event, 'tt5', 'link28')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a></td><td class=SDescription>Returns size of a memory page (block). </td></tr><tr class="SGroup"><td class=SEntry><a href="#test" >test</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#unittest_io_mmfile" id=link29 onMouseOver="ShowTip(event, 'tt6', 'link29')" onMouseOut="HideTip('tt6')">unittest_io_mmfile</a></td><td class=SDescription>Test mapping of file into memory.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="query"></a>query</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="pagesize_mmfile"></a>pagesize_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t pagesize_mmfile(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns size of a memory page (block).&nbsp; Files can be mapped into memory only page by page.&nbsp; If the file size is not a multiple of <a href="#pagesize_mmfile" class=LFunction id=link30 onMouseOver="ShowTip(event, 'tt5', 'link30')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a> all memory of the last mapped page which is beyond the size of the underlying file is filled with 0, and writes to that region are not written to the file.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="test"></a>test</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="unittest_io_mmfile"></a>unittest_io_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern int unittest_io_mmfile(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Test mapping of file into memory.</p></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="mmfile_t"></a>mmfile_t</h2><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">struct mmfile_t</td></tr></table></blockquote><p>Describes a memory mapped file.&nbsp; Memory mapped files must always be readable cause the memory must be initialized before it can be accessed.&nbsp; Even if you only want to write to it.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SVariable"><td class=SEntry><a href="#mmfile_t.addr" id=link31 onMouseOver="ShowTip(event, 'tt7', 'link31')" onMouseOut="HideTip('tt7')">addr</a></td><td class=SDescription>The start address of the mapped memory. </td></tr><tr class="SVariable SMarked"><td class=SEntry><a href="#mmfile_t.size" id=link32 onMouseOver="ShowTip(event, 'tt8', 'link32')" onMouseOut="HideTip('tt8')">size</a></td><td class=SDescription>Size of the mapped memory. </td></tr><tr class="SGroup"><td class=SEntry><a href="#mmfile_t.lifetime" >lifetime</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#mmfile_t.mmfile_INIT_FREEABLE" id=link33 onMouseOver="ShowTip(event, 'tt9', 'link33')" onMouseOut="HideTip('tt9')">mmfile_INIT_FREEABLE</a></td><td class=SDescription>Static initializer for <a href="#mmfile_t" class=LClass id=link34 onMouseOver="ShowTip(event, 'tt4', 'link34')" onMouseOut="HideTip('tt4')">mmfile_t</a>. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#mmfile_t.init_mmfile" id=link35 onMouseOver="ShowTip(event, 'tt10', 'link35')" onMouseOut="HideTip('tt10')">init_mmfile</a></td><td class=SDescription>Opens or creates a new file and maps it to memory. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#mmfile_t.initcreate_mmfile" id=link36 onMouseOver="ShowTip(event, 'tt11', 'link36')" onMouseOut="HideTip('tt11')">initcreate_mmfile</a></td><td class=SDescription>Creates a new file with the given size and opens it with <a href="#mmfile_openmode_RDWR_SHARED" class=LConstant id=link37 onMouseOver="ShowTip(event, 'tt12', 'link37')" onMouseOut="HideTip('tt12')">mmfile_openmode_RDWR_SHARED</a>. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#mmfile_t.free_mmfile" id=link38 onMouseOver="ShowTip(event, 'tt13', 'link38')" onMouseOut="HideTip('tt13')">free_mmfile</a></td><td class=SDescription>Frees all mapped memory and closes the file.</td></tr><tr class="SGroup"><td class=SEntry><a href="#mmfile_t.query" >query</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#mmfile_t.addr_mmfile" id=link39 onMouseOver="ShowTip(event, 'tt14', 'link39')" onMouseOut="HideTip('tt14')">addr_mmfile</a></td><td class=SDescription>Returns the lowest address of the mapped memory. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#mmfile_t.size_mmfile" id=link40 onMouseOver="ShowTip(event, 'tt15', 'link40')" onMouseOut="HideTip('tt15')">size_mmfile</a></td><td class=SDescription>Returns the size of the mapped memory. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#mmfile_t.alignedsize_mmfile" id=link41 onMouseOver="ShowTip(event, 'tt16', 'link41')" onMouseOut="HideTip('tt16')">alignedsize_mmfile</a></td><td class=SDescription>Returns the size of the mapped memory. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.addr"></a>addr</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">uint8_t * addr</td></tr></table></blockquote><p>The start address of the mapped memory.&nbsp; It is a multiple of <a href="#pagesize_mmfile" class=LFunction id=link42 onMouseOver="ShowTip(event, 'tt5', 'link42')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.size"></a>size</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">size_t size</td></tr></table></blockquote><p>Size of the mapped memory.&nbsp; <b>size</b> will be a multiple of <a href="#pagesize_mmfile" class=LFunction id=link43 onMouseOver="ShowTip(event, 'tt5', 'link43')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a> except if filesize - file_offset would be &lt; size.&nbsp; In this case size is truncated to filesize - file_offset (see <a href="#mmfile_t.init_mmfile" class=LFunction id=link44 onMouseOver="ShowTip(event, 'tt10', 'link44')" onMouseOut="HideTip('tt10')">init_mmfile</a>).&nbsp; .</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.lifetime"></a>lifetime</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.mmfile_INIT_FREEABLE"></a>mmfile_INIT_FREEABLE</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">#define mmfile_INIT_FREEABLE { 0, 0 }</td></tr></table></blockquote><p>Static initializer for <a href="#mmfile_t" class=LClass id=link45 onMouseOver="ShowTip(event, 'tt4', 'link45')" onMouseOut="HideTip('tt4')">mmfile_t</a>.&nbsp; Makes calling of <a href="#mmfile_t.free_mmfile" class=LFunction id=link46 onMouseOver="ShowTip(event, 'tt13', 'link46')" onMouseOut="HideTip('tt13')">free_mmfile</a> a no op.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.init_mmfile"></a>init_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=7>extern int init_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>/*out*/mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file_path,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>off_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>file_offset,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>mmfile_openmode_e&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>mode,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const struct directory_t *&nbsp;</td><td class="PType  prettyprint " nowrap>relative_to&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>/*0</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>&gt;current_working_directory*/</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=7>)</td></tr></table></td></tr></table></blockquote><p>Opens or creates a new file and maps it to memory.&nbsp; If relative_to is set to a value != 0 and if file_path is relative file_path is considered relative to relative_to instead of the current working directory.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mfile</td><td class=CDLDescription>Memory mapped file object</td></tr><tr><td class=CDLEntry>file_path</td><td class=CDLDescription>Path of file to be read or written.&nbsp; A relatice path is relative to relative_to or the current working directory.</td></tr><tr><td class=CDLEntry>file_offset</td><td class=CDLDescription>The offset of the first byte in the file whcih should be mapped.&nbsp; Must be a multiple of <a href="#pagesize_mmfile" class=LFunction id=link47 onMouseOver="ShowTip(event, 'tt5', 'link47')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a>.&nbsp; If file_offset &gt;= filesize then ENODATA is returned =&gt; Files with length 0 always generate ENODATA error.</td></tr><tr><td class=CDLEntry>size</td><td class=CDLDescription>The number of bytes which should be mapped.&nbsp; The mapping is always done in chunks of <a href="#pagesize_mmfile" class=LFunction id=link48 onMouseOver="ShowTip(event, 'tt5', 'link48')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a>. size (in case it is != 0) is increased until it is a multiple of <a href="#pagesize_mmfile" class=LFunction id=link49 onMouseOver="ShowTip(event, 'tt5', 'link49')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a>.&nbsp; If file_offset + size &gt; filesize then size is silently truncated (file_soffset + size == filesize).&nbsp; If size is set to 0 then this means to map the whole file starting from file_offset.&nbsp; If the file is bigger than could be mapped in memory ENOMEM is returned.</td></tr><tr><td class=CDLEntry>relative_to</td><td class=CDLDescription>If this paramter is != 0 and file_path is relative then file_path is relative to the path determined by this parameter.</td></tr><tr><td class=CDLEntry>mode</td><td class=CDLDescription>Determines if the file is opened for reading or writing.&nbsp; See also <a href="#mmfile_openmode_e" class=LType id=link50 onMouseOver="ShowTip(event, 'tt20', 'link50')" onMouseOut="HideTip('tt20')">mmfile_openmode_e</a>.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.initcreate_mmfile"></a>initcreate_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=7>extern int initcreate_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>/*out*/mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file_path,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const struct directory_t *&nbsp;</td><td class="PType  prettyprint " nowrap>relative_to&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>/*0</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>&gt;current working directory*/</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=7>)</td></tr></table></td></tr></table></blockquote><p>Creates a new file with the given size and opens it with <a href="#mmfile_openmode_RDWR_SHARED" class=LConstant id=link51 onMouseOver="ShowTip(event, 'tt12', 'link51')" onMouseOut="HideTip('tt12')">mmfile_openmode_RDWR_SHARED</a>.&nbsp; If the file exists EEXIST is returned.&nbsp; The file is always mapped from the beginning.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.free_mmfile"></a>free_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern int free_mmfile(</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Frees all mapped memory and closes the file.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.query"></a>query</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.addr_mmfile"></a>addr_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern uint8_t * addr_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns the lowest address of the mapped memory.&nbsp; The memory is always mapped in chunks of <a href="#pagesize_mmfile" class=LFunction id=link52 onMouseOver="ShowTip(event, 'tt5', 'link52')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a> (same as <a href="../../platform/virtmemory-h.html#pagesize_vm" class=LFunction id=link53 onMouseOver="ShowTip(event, 'tt21', 'link53')" onMouseOut="HideTip('tt21')">pagesize_vm</a>).&nbsp; The memory which can be accessed is at least [<a href="#mmfile_t.addr_mmfile" class=LFunction id=link54 onMouseOver="ShowTip(event, 'tt14', 'link54')" onMouseOut="HideTip('tt14')">addr_mmfile</a> ..&nbsp; &lt;addr_mmfile&gt;+&lt;size_mmfile&gt;].</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.size_mmfile"></a>size_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t size_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns the size of the mapped memory.&nbsp; The memory which corresponds to the underlying file is exactly [<a href="#mmfile_t.addr_mmfile" class=LFunction id=link55 onMouseOver="ShowTip(event, 'tt14', 'link55')" onMouseOut="HideTip('tt14')">addr_mmfile</a> ..&nbsp; &lt;addr_mmfile&gt;+&lt;size_mmfile&gt;].</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mmfile_t.alignedsize_mmfile"></a>alignedsize_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t alignedsize_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns the size of the mapped memory.&nbsp; This value is a multiple of <a href="#pagesize_mmfile" class=LFunction id=link56 onMouseOver="ShowTip(event, 'tt5', 'link56')" onMouseOut="HideTip('tt5')">pagesize_mmfile</a> and it is &gt;= <a href="#mmfile_t.size_mmfile" class=LFunction id=link57 onMouseOver="ShowTip(event, 'tt15', 'link57')" onMouseOut="HideTip('tt15')">size_mmfile</a>.&nbsp; The mapped memory region is [<a href="#mmfile_t.addr_mmfile" class=LFunction id=link58 onMouseOver="ShowTip(event, 'tt14', 'link58')" onMouseOut="HideTip('tt14')">addr_mmfile</a> ..&nbsp; &lt;addr_mmfile&gt;+&lt;alignedsize_mmfile&gt;] but only [<a href="#mmfile_t.addr_mmfile" class=LFunction id=link59 onMouseOver="ShowTip(event, 'tt14', 'link59')" onMouseOut="HideTip('tt14')">addr_mmfile</a> ..&nbsp; &lt;addr_mmfile&gt;+&lt;size_mmfile&gt;] corresponds to the underlying file.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="inline_implementation"></a>inline implementation</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#addr_mmfile" id=link60 onMouseOver="ShowTip(event, 'tt17', 'link60')" onMouseOut="HideTip('tt17')">addr_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.addr_mmfile" class=LFunction id=link61 onMouseOver="ShowTip(event, 'tt14', 'link61')" onMouseOut="HideTip('tt14')">mmfile_t.addr_mmfile</a>.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#alignedsize_mmfile" id=link62 onMouseOver="ShowTip(event, 'tt18', 'link62')" onMouseOut="HideTip('tt18')">alignedsize_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.alignedsize_mmfile" class=LFunction id=link63 onMouseOver="ShowTip(event, 'tt16', 'link63')" onMouseOut="HideTip('tt16')">mmfile_t.alignedsize_mmfile</a>.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#size_mmfile" id=link64 onMouseOver="ShowTip(event, 'tt19', 'link64')" onMouseOut="HideTip('tt19')">size_mmfile</a></td><td class=SDescription>Implements <a href="#mmfile_t.size_mmfile" class=LFunction id=link65 onMouseOver="ShowTip(event, 'tt15', 'link65')" onMouseOut="HideTip('tt15')">mmfile_t.size_mmfile</a>.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Macros"></a>Macros</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="addr_mmfile"></a>addr_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>#define addr_mmfile(</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>) ((mfile)-&gt;addr)</td></tr></table></td></tr></table></blockquote><p>Implements <a href="#mmfile_t.addr_mmfile" class=LFunction id=link66 onMouseOver="ShowTip(event, 'tt14', 'link66')" onMouseOut="HideTip('tt14')">mmfile_t.addr_mmfile</a>.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="alignedsize_mmfile"></a>alignedsize_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=2>#define alignedsize_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PParameter  prettyprint " nowrap width=100%>mfile</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=2>) ((size_mmfile(mfile) + (pagesize_mmfile()-1)) &amp; ~(pagesize_mmfile()-1))</td></tr></table></td></tr></table></blockquote><p>Implements <a href="#mmfile_t.alignedsize_mmfile" class=LFunction id=link67 onMouseOver="ShowTip(event, 'tt16', 'link67')" onMouseOut="HideTip('tt16')">mmfile_t.alignedsize_mmfile</a>.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="size_mmfile"></a>size_mmfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>#define size_mmfile(</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>) ((mfile)-&gt;size)</td></tr></table></td></tr></table></blockquote><p>Implements <a href="#mmfile_t.size_mmfile" class=LFunction id=link68 onMouseOver="ShowTip(event, 'tt15', 'link68')" onMouseOut="HideTip('tt15')">mmfile_t.size_mmfile</a>.</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="../../../README-txt.html">Readme</a></div></div><div class=MEntry><div class=MFile><a href="../../../konfig-h.html">Konfiguration</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent19')">Api</a><div class=MGroupContent id=MGroupContent19><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Aspect</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../../aspect/callback-h.html">Callback</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Callback</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="../../aspect/callback/compare-h.html">Compare-Callback</a></div></div><div class=MEntry><div class=MFile><a href="../../aspect/callback/free-h.html">Free-Callback</a></div></div><div class=MEntry><div class=MFile><a href="../../aspect/callback/task-h.html">Task-Callback</a></div></div><div class=MEntry><div class=MFile><a href="../../aspect/callback/updatekey-h.html">Updatekey-Callback</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../aspect/interface-h.html">Interface</a></div></div><div class=MEntry><div class=MFile><a href="../../aspect/treenode2-h.html">Treenode2-Aspect</a></div></div><div class=MEntry><div class=MFile><a href="../../aspect/treenode3-h.html">Treenode3-Aspect</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Cache</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="../../cache/objectcache-h.html">Objectcache</a></div></div><div class=MEntry><div class=MFile><a href="../../cache/objectcache_it-h.html">Objectcache-Interface</a></div></div><div class=MEntry><div class=MFile><a href="../../cache/objectcache_macros-h.html">Objectcache-Macros</a></div></div><div class=MEntry><div class=MFile><a href="../../cache/objectcache_oit-h.html">Objectcache-Object</a></div></div><div class=MEntry><div class=MFile><a href="../../cache/valuecache-h.html">Valuecache</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Context</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="../../context/processcontext-h.html">ProcessContext</a></div></div><div class=MEntry><div class=MFile><a href="../../context/threadcontext-h.html">ThreadContext</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">Ds</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">InMemory</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="../../ds/inmem/arraysf-h.html">ArraySF</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/inmem/arraystf-h.html">ArraySTF</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/inmem/binarystack-h.html">BinaryStack</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/inmem/slist-h.html">SingleLinkedList</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../ds/arraysf_node-h.html">ArraySF-Node</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/arraystf_node-h.html">ArraySTF-Node</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/freecallback-h.html">FreeCallback</a></div></div><div class=MEntry><div class=MFile><a href="../../ds/slist_node-h.html">SingleLinkedList-Node</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent9')">Io</a><div class=MGroupContent id=MGroupContent9><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Filesystem</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MFile><a href="directory-h.html">Directory</a></div></div><div class=MEntry><div class=MFile><a href="file-h.html">File</a></div></div><div class=MEntry><div class=MFile id=MSelected>Memory-Mapped-File</div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent8')">Ip</a><div class=MGroupContent id=MGroupContent8><div class=MEntry><div class=MFile><a href="../ip/ipaddr-h.html">Internetprotocol-Address</a></div></div><div class=MEntry><div class=MFile><a href="../ip/ipsocket-h.html">Internetprotocol-Sockets</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../filedescr-h.html">Filedescriptor</a></div></div><div class=MEntry><div class=MFile><a href="../accessmode-h.html">IO-Accessmode</a></div></div><div class=MEntry><div class=MFile><a href="../iocallback-h.html">IOCallback</a></div></div><div class=MEntry><div class=MFile><a href="../ioevent-h.html">IOEvent</a></div></div><div class=MEntry><div class=MFile><a href="../iopoll-h.html">IOPoll</a></div></div><div class=MEntry><div class=MFile><a href="../iotimer-h.html">IOTimer</a></div></div><div class=MEntry><div class=MFile><a href="../url-h.html">URL</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent10')">Math</a><div class=MGroupContent id=MGroupContent10><div class=MEntry><div class=MFile><a href="../../math/int/log2-h.html">Intop-Log2</a></div></div><div class=MEntry><div class=MFile><a href="../../math/int/power2-h.html">Intop-Power2</a></div></div><div class=MEntry><div class=MFile><a href="../../math/int/signum-h.html">Intop-Signum</a></div></div><div class=MEntry><div class=MFile><a href="../../math/hash/sha1-h.html">SHA-1-Hashcode</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent11')">Memory</a><div class=MGroupContent id=MGroupContent11><div class=MEntry><div class=MFile><a href="../../memory/memblock-h.html">MemoryBlock</a></div></div><div class=MEntry><div class=MFile><a href="../../memory/wbuffer-h.html">WBuffer</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent12')">String</a><div class=MGroupContent id=MGroupContent12><div class=MEntry><div class=MFile><a href="../../string/convertwchar-h.html">Convert-wchar</a></div></div><div class=MEntry><div class=MFile><a href="../../string/cstring-h.html">CString</a></div></div><div class=MEntry><div class=MFile><a href="../../string/string-h.html">String</a></div></div><div class=MEntry><div class=MFile><a href="../../string/encode-h.html">StringEncode</a></div></div><div class=MEntry><div class=MFile><a href="../../string/utf8-h.html">UTF-8</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent13')">Test</a><div class=MGroupContent id=MGroupContent13><div class=MEntry><div class=MFile><a href="../../test/assert-h.html">AssertTest</a></div></div><div class=MEntry><div class=MFile><a href="../../test/resourceusage-h.html">Resourceusage</a></div></div><div class=MEntry><div class=MFile><a href="../../test/errortimer-h.html">Test-Errortimer</a></div></div><div class=MEntry><div class=MFile><a href="../../test/run/unittest-h.html">Unittest</a></div></div><div class=MEntry><div class=MFile><a href="../../test/validate-h.html">ValidationTest</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent14')">Writer</a><div class=MGroupContent id=MGroupContent14><div class=MEntry><div class=MFile><a href="../../writer/errlog_macros-h.html">ErrlogMacros</a></div></div><div class=MEntry><div class=MFile><a href="../../writer/log_it-h.html">Log-Interface</a></div></div><div class=MEntry><div class=MFile><a href="../../writer/log_oit-h.html">Log-Object</a></div></div><div class=MEntry><div class=MFile><a href="../../writer/log_macros-h.html">LogMacros</a></div></div><div class=MEntry><div class=MFile><a href="../../writer/logmain-h.html">LogMain</a></div></div><div class=MEntry><div class=MFile><a href="../../writer/logwriter-h.html">LogWriter</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent18')">Platform</a><div class=MGroupContent id=MGroupContent18><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent15')">Gui</a><div class=MGroupContent id=MGroupContent15><div class=MEntry><div class=MFile><a href="../../platform/gui/X11/display-h.html">X11-Display</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/gui/X11/internal/display_oostore-h.html">X11-Display OOSTORE</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/gui/X11/glxwindow-h.html">X11-OpenGL-Window</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/gui/X11/x11-h.html">X11-Subsystem</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../platform/Linux/syscontext-h.html">LinuxSystemContext</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/Linux/syskonfig-h.html">LinuxSystemKonfig</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/locale-h.html">Locale-support</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/malloc-h.html">Malloc</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/process-h.html">ProcessManagement</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/index/redblacktree-h.html">RedBlacktree-Index</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/index/splaytree-h.html">Splaytree-Index</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent16')">Sync</a><div class=MGroupContent id=MGroupContent16><div class=MEntry><div class=MFile><a href="../../platform/sync/signal-h.html">PosixSignals</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/sync/semaphore-h.html">Semaphore</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/sync/mutex-h.html">Thread</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/sync/waitlist-h.html">Waitlist</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent17')">Task</a><div class=MGroupContent id=MGroupContent17><div class=MEntry><div class=MFile><a href="../../platform/task/exoscheduler-h.html">Exoscheduler</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/task/exothread-h.html">Exothread</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/task/threadpool-h.html">Threadpool</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../platform/thread-h.html">Thread</a></div></div><div class=MEntry><div class=MFile><a href="../../platform/virtmemory-h.html">VirtualMemory</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../err-h.html">ErrorHandling</a></div></div><div class=MEntry><div class=MFile><a href="../../context-h.html">MainContext</a></div></div><div class=MEntry><div class=MFile><a href="../../test-h.html">Test</a></div></div><div class=MEntry><div class=MFile><a href="../../time/timespec-h.html">Time-Specifications</a></div></div><div class=MEntry><div class=MFile><a href="../../time/clock-h.html">Timeclock</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent34')">Implementation</a><div class=MGroupContent id=MGroupContent34><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent20')">Cache</a><div class=MGroupContent id=MGroupContent20><div class=MEntry><div class=MFile><a href="../../../cache/valuecache-c.html">Valuecache impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../cache/objectcache-c.html">Objectcache impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent21')">Context</a><div class=MGroupContent id=MGroupContent21><div class=MEntry><div class=MFile><a href="../../../context/COP-txt.html">Context-Oriented-Programming</a></div></div><div class=MEntry><div class=MFile><a href="../../../context/context-c.html">MainContext impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../context/processcontext-c.html">ProcessContext impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../context/threadcontext-c.html">ThreadContext impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent22')">DataStructures</a><div class=MGroupContent id=MGroupContent22><div class=MEntry><div class=MFile><a href="../../../ds/inmem/arraysf-c.html">ArraySF impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../ds/inmem/arraystf-c.html">ArraySTF impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../ds/inmem/binarystack-c.html">BinaryStack impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../ds/inmem/slist-c.html">SingleLinkedList impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent23')">Io</a><div class=MGroupContent id=MGroupContent23><div class=MEntry><div class=MFile><a href="../../../io/url-c.html">URL impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent24')">Main</a><div class=MGroupContent id=MGroupContent24><div class=MEntry><div class=MFile><a href="../../../main/testchildprocess_main-c.html">Testchildprocess</a></div></div><div class=MEntry><div class=MFile><a href="../../../main/tools/textdb-c.html">TextDB</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent25')">Math</a><div class=MGroupContent id=MGroupContent25><div class=MEntry><div class=MFile><a href="../../../math/int/signum-c.html">Intop-Signum impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../math/int/power2-c.html">Intop-Power2 impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../math/int/log2-c.html">Intop-Log2 impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../math/hash/sha1-c.html">SHA-1-Hashcode impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent26')">Memory</a><div class=MGroupContent id=MGroupContent26><div class=MEntry><div class=MFile><a href="../../../memory/memblock-c.html">MemoryBlock impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../memory/wbuffer-c.html">WBuffer impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent27')">String</a><div class=MGroupContent id=MGroupContent27><div class=MEntry><div class=MFile><a href="../../../string/convertwchar-c.html">Convert-wchar impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../string/cstring-c.html">CString impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../string/string-c.html">String impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../string/encode-c.html">StringEncode impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../string/utf8-c.html">UTF-8 impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent31')">Platform</a><div class=MGroupContent id=MGroupContent31><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent29')">Linux</a><div class=MGroupContent id=MGroupContent29><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent28')">Io</a><div class=MGroupContent id=MGroupContent28><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/directory-c.html">Directory Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/file-c.html">File Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/filedescr-c.html">Filedescriptor Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/ipaddr-c.html">Internetprotocol-Address Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/ipsocket-c.html">Internetprotocol-Sockets Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/iopoll-c.html">IOPoll Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/iotimer-c.html">IOTimer Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/io/mmfile-c.html">Memory-Mapped-File Linux</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/locale-c.html">Locale-support Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/malloc-c.html">Malloc impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/signal-c.html">PosixSignals Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/process-c.html">ProcessManagement Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/semaphore-c.html">Semaphore Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/mutex-c.html">Thread Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/thread-c.html">Thread Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/clock-c.html">Timeclock Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/virtmemory-c.html">VirtualMemory Linux</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/Linux/waitlist-c.html">Waitlist Linux</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent30')">Shared</a><div class=MGroupContent id=MGroupContent30><div class=MEntry><div class=MFile><a href="../../../platform/shared/task/exoscheduler-c.html">Exoscheduler impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/shared/task/exothread-c.html">Exothread impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/shared/index/redblacktree-c.html">RedBlacktree-Index impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/shared/index/splaytree-c.html">Splaytree-Index impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../platform/shared/task/threadpool-c.html">Threadpool impl</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent32')">Test</a><div class=MGroupContent id=MGroupContent32><div class=MEntry><div class=MFile><a href="../../../test/run_unittest-c.html">Unittest impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../test/resourceusage-c.html">Resourceusage impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../test/test-c.html">Test impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../test/errortimer-c.html">Test-Errortimer impl</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent33')">Writer</a><div class=MGroupContent id=MGroupContent33><div class=MEntry><div class=MFile><a href="../../../writer/logmain-c.html">LogMain impl</a></div></div><div class=MEntry><div class=MFile><a href="../../../writer/logwriter-c.html">LogWriter impl</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent35')">Coding-Conventions</a><div class=MGroupContent id=MGroupContent35><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/c_types-txt.html">C-Types</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/context-txt.html">Context Oriented Programming</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/free_objects-txt.html">free objects</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/init_objects-txt.html">init objects</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/parameter_type-txt.html">parameter types</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/task-txt.html">Taskmanagement</a></div></div><div class=MEntry><div class=MFile><a href="../../../resource/coding-conventions/unittest-txt.html">Unittest conventions</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent36')">Index</a><div class=MGroupContent id=MGroupContent36><div class=MEntry><div class=MIndex><a href="../../../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Files.html">Files</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Macros.html">Macros</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Types.html">Types</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Variables.html">Variables</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Constants.html">Constants</a></div></div><div class=MEntry><div class=MIndex><a href="../../../../index/Interfaces.html">Interfaces</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Constants">Constants</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Interfaces">Interfaces</option><option value="Macros">Macros</option><option value="Types">Types</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([7, 9, 19], 37);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CSection>Maps a file into virtual memory. </div></div><div class=CToolTip id="tt2"><div class=CSection>Implements Memory-Mapped-File on Linux.</div></div><div class=CToolTip id="tt3"><div class=CType><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">typedef struct mmfile_t mmfile_t</td></tr></table></blockquote>Exports mmfile_t.</div></div><div class=CToolTip id="tt4"><div class=CClass><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">struct mmfile_t</td></tr></table></blockquote>Describes a memory mapped file. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t pagesize_mmfile(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns size of a memory page (block). </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern int unittest_io_mmfile(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Test mapping of file into memory.</div></div><div class=CToolTip id="tt7"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">uint8_t * addr</td></tr></table></blockquote>The start address of the mapped memory. </div></div><div class=CToolTip id="tt8"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">size_t size</td></tr></table></blockquote>Size of the mapped memory. </div></div><div class=CToolTip id="tt9"><div class=CMacro><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">#define mmfile_INIT_FREEABLE { 0, 0 }</td></tr></table></blockquote>Static initializer for mmfile_t. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=7>extern int init_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>/*out*/mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file_path,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>off_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>file_offset,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>mmfile_openmode_e&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>mode,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const struct directory_t *&nbsp;</td><td class="PType  prettyprint " nowrap>relative_to&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>/*0</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>&gt;current_working_directory*/</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=7>)</td></tr></table></td></tr></table></blockquote>Opens or creates a new file and maps it to memory. </div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=7>extern int initcreate_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>/*out*/mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file_path,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PTypePrefix  prettyprint " nowrap>const struct directory_t *&nbsp;</td><td class="PType  prettyprint " nowrap>relative_to&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>/*0</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>&gt;current working directory*/</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=7>)</td></tr></table></td></tr></table></blockquote>Creates a new file with the given size and opens it with mmfile_openmode_RDWR_SHARED. </div></div><div class=CToolTip id="tt12"><div class=CConstant>Open file read/write. </div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern int free_mmfile(</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Frees all mapped memory and closes the file.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern uint8_t * addr_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the lowest address of the mapped memory. </div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t size_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the size of the mapped memory. </div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t alignedsize_mmfile(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>mmfile_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the size of the mapped memory. </div></div><div class=CToolTip id="tt17"><div class=CMacro><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>#define addr_mmfile(</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>) ((mfile)-&gt;addr)</td></tr></table></td></tr></table></blockquote>Implements mmfile_t.addr_mmfile.</div></div><div class=CToolTip id="tt18"><div class=CMacro><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "colspan=2>#define alignedsize_mmfile(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class="PParameter  prettyprint " nowrap width=100%>mfile</td></tr><tr><td class="PAfterParameters  prettyprint "colspan=2>) ((size_mmfile(mfile) + (pagesize_mmfile()-1)) &amp; ~(pagesize_mmfile()-1))</td></tr></table></td></tr></table></blockquote>Implements mmfile_t.alignedsize_mmfile.</div></div><div class=CToolTip id="tt19"><div class=CMacro><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>#define size_mmfile(</td><td class="PParameter  prettyprint " nowrap>mfile</td><td class="PAfterParameters  prettyprint "nowrap>) ((mfile)-&gt;size)</td></tr></table></td></tr></table></blockquote>Implements mmfile_t.size_mmfile.</div></div><div class=CToolTip id="tt20"><div class=CType>Open mode like <b>readonly</b> or <b>read/write</b> (private + shared).</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>extern size_t pagesize_vm(</td><td class="PParameter  prettyprint " nowrap>void</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the virtual memory page size supported by the underlying system. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>